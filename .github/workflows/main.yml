# This is a basic workflow to help you get started with Actions
name: build

# Controls when the workflow will run
on: [push,workflow_dispatch]
# Allows you to run this workflow manually from the Actions tab

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  
  install:
    name: Chocolatey Package
    runs-on: windows-latest
    
    steps:
    - name: Checkout repo
      uses: actions/checkout@v3

    - name: Run update script
      run: $GITHUB_WORKSPACE\\autoupdate.ps1 -CHOCO_TOKEN ${{ secrets.CHOCO_TOKEN }}

  
  #build_choco:
  #  name: Build Chocolatey locally
  #  runs-on: ubuntu-latest
  #  steps:
  #  - uses: actions/checkout@v3
  #    with:
  #      repository: chocolatey/choco
  #      ref: stable
  #
  #  - name: Build with mono
  #    run: |
  #      chmod +x build.sh
  #      $GITHUB_WORKSPACE/build.sh -v
  #    env:
  #       API_KEY: ${{ secrets.API_KEY }}
  #
  #choco_pack:
  #  name: Choco packaging
  #  runs-on: ubuntu-latest
  #  steps:
  #  - uses: actions/checkout@v3
  #
  #  - name: Build 
  #    run: 
  #    env:
  #       API_KEY: ${{ secrets.API_KEY }}
  